(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{16:function(e,t,r){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2_F4I","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__1Fupk"}},17:function(e,t,r){e.exports={"Button-wrapper":"Button_Button-wrapper__331C2",Button:"Button_Button__2KFf5"}},18:function(e,t,r){e.exports={Overlay:"Modal_Overlay__3u0XI",Modal:"Modal_Modal__-PfKO"}},30:function(e,t,r){e.exports={Searchbar:"Searchbar_Searchbar__x91N2"}},31:function(e,t,r){e.exports={ImageGallery:"ImageGallery_ImageGallery__126uJ"}},33:function(e,t,r){e.exports={Loader:"Loader_Loader__UlGzK"}},34:function(e,t,r){e.exports={Message:"Message_Message__24nKT"}},35:function(e,t,r){e.exports={IconButton:"IconButton_IconButton__spHLI"}},6:function(e,t,r){e.exports={SearchForm:"SearchForm_SearchForm__2NWiS","SearchForm-button":"SearchForm_SearchForm-button__2DtK-","SearchForm-button-label":"SearchForm_SearchForm-button-label__9x3vu","SearchForm-input":"SearchForm_SearchForm-input__1GlMn"}},83:function(e,t,r){e.exports={App:"App_App__2vsp2"}},84:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(7),o=r.n(c),l=r(4),s=r.n(l),i=r(21),u=r(9),h=r(10),m=r(11),d=r(14),g=r(13),b=r(12),p=r(36),j=r(6),f=r.n(j),O=r(0),x=function(e){var t=e.onSearch,r=Object(a.useState)({query:""}),n=Object(p.a)(r,2),c=n[0],o=n[1],l=c.query,s=function(){return o({query:""})};return Object(O.jsxs)("form",{className:f.a.SearchForm,onSubmit:function(e){e.preventDefault(),l&&(t(l),s())},children:[Object(O.jsx)("button",{type:"submit",className:f.a["SearchForm-button"],children:Object(O.jsx)("span",{className:f.a["SearchForm-button-label"],children:"Search"})}),Object(O.jsx)("input",{className:f.a["SearchForm-input"],type:"text",name:"query",value:l,onChange:function(e){var t=e.currentTarget,r=t.name,a=t.value;o(Object(b.a)({},r,a))},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})},y=r(30),v=r.n(y),_=function(e){var t=e.onSearch;return Object(O.jsx)("header",{className:v.a.Searchbar,children:Object(O.jsx)(x,{onSearch:t})})},I=r(16),S=r.n(I),w=function(e){var t=e.image,r=e.onImageClick;return Object(O.jsx)("li",{className:S.a.ImageGalleryItem,children:Object(O.jsx)("img",{src:t.webformatURL,alt:t.tags,className:S.a["ImageGalleryItem-image"],onClick:function(){return r(t.largeImageURL)}})})};w.defaultProps={tags:""};var k=w,C=r(31),F=r.n(C),L=function(e){var t=e.images,r=e.onImageClick;return Object(O.jsx)("ul",{className:F.a.ImageGallery,children:t.map((function(e){return Object(O.jsx)(k,{image:e,onImageClick:r},e.id)}))})},M=r(17),N=r.n(M),B=function(e){var t=e.onClick;return Object(O.jsx)("div",{className:N.a["Button-wrapper"],children:Object(O.jsx)("button",{type:"button",className:N.a.Button,onClick:t,children:"Load more"})})},G=r(32),P=r.n(G),E=r(33),Q=r.n(E),q=function(e){Object(d.a)(r,e);var t=Object(g.a)(r);function r(){return Object(h.a)(this,r),t.apply(this,arguments)}return Object(m.a)(r,[{key:"render",value:function(){return Object(O.jsx)("div",{className:Q.a.Loader,children:Object(O.jsx)(P.a,{type:"TailSpin",color:"#02be6e",height:100,width:100})})}}]),r}(a.Component),T=r(34),U=r.n(T),A=function(e){var t=e.children;return Object(O.jsx)("div",{className:U.a.Message,children:t})};A.defaultProps={children:[]};var K=A,R=r(18),z=r.n(R),D=document.querySelector("#modal-root"),J=function(e){var t=e.children,r=e.onClose;Object(a.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&r()};return Object(c.createPortal)(Object(O.jsx)("div",{className:z.a.Overlay,onClick:function(e){e.currentTarget===e.target&&r()},children:Object(O.jsx)("div",{className:z.a.Modal,children:t})}),D)};J.defaultProps={children:null};var H=J,W=r(19),X=r(37),V=r(35),Y=r.n(V),Z=function(e){var t=e.children,r=e.onClick,a=Object(X.a)(e,["children","onClick"]);return Object(O.jsx)("button",Object(W.a)(Object(W.a)({type:"button",className:Y.a.IconButton,onClick:r},a),{},{children:t}))};Z.defaultProps={onClick:function(){return null},children:null};var $,ee=Z;function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function re(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ae(e,t){var r=e.title,n=e.titleId,c=re(e,["title","titleId"]);return a.createElement("svg",te({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 41.756 41.756",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,$||($=a.createElement("path",{d:"M27.948 20.878L40.291 8.536a5 5 0 10-7.07-7.071L20.878 13.809 8.535 1.465a5 5 0 00-7.07 7.071l12.342 12.342L1.465 33.22a5 5 0 107.07 7.071l12.343-12.342 12.343 12.343c.976.977 2.256 1.464 3.535 1.464s2.56-.487 3.535-1.464a5 5 0 000-7.071L27.948 20.878z"})))}var ne=a.forwardRef(ae),ce=(r.p,r(20)),oe=r.n(ce);oe.a.defaults.baseURL="https://pixabay.com/api";var le=function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.a.get("/?q=".concat(t,"&page=").concat(r,"&key=").concat("20008538-9b5c20cc133cf43381bf6ef09","&image_type=photo&orientation=horizontal&per_page=12"));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),se=function(e){Object(d.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(h.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={images:[],currentPage:1,searchQuery:"",isLoading:!1,showModal:!1,largeImage:"",error:null},e.onChangeQuery=function(t){e.setState({images:[],currentPage:1,searchQuery:t,error:null})},e.getImages=Object(u.a)(s.a.mark((function t(){var r,a,n,c,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state,a=r.currentPage,n=r.searchQuery,e.setState({isLoading:!0}),t.prev=2,t.next=5,le(n,a);case 5:c=t.sent,o=c.hits,e.setState((function(e){return{images:[].concat(Object(i.a)(e.images),Object(i.a)(o)),currentPage:e.currentPage+1}})),1!==a&&e.scrollOnLoadButton(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),console.log("Smth wrong with App fetch",t.t0),e.setState({error:t.t0});case 15:return t.prev=15,e.setState({isLoading:!1}),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,11,15,18]])}))),e.handleGalleryItem=function(t){e.setState({largeImage:t,showModal:!0})},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal,largeImage:""}}))},e.scrollOnLoadButton=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e}return Object(m.a)(r,[{key:"componentDidUpdate",value:function(e,t){t.searchQuery!==this.state.searchQuery&&this.getImages()}},{key:"render",value:function(){var e=this.state,t=e.images,r=e.isLoading,a=e.showModal,n=e.largeImage,c=e.error,o=t.length>0&&t.length>=12;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(_,{onSearch:this.onChangeQuery}),t.length<1&&Object(O.jsxs)(K,{children:[Object(O.jsx)("h2",{children:"The gallery is empty \ud83d\ude41"}),Object(O.jsx)("p",{children:"Use search field!"})]}),Object(O.jsx)(L,{images:t,onImageClick:this.handleGalleryItem}),o&&Object(O.jsx)(B,{onClick:this.getImages}),a&&Object(O.jsxs)(H,{onClose:this.toggleModal,children:[Object(O.jsx)("div",{className:"Close-box",children:Object(O.jsx)(ee,{onClick:this.toggleModal,"aria-label":"Close modal",children:Object(O.jsx)(ne,{width:"20px",height:"20px",fill:"#7e7b7b"})})}),Object(O.jsx)("img",{src:n,alt:"",className:"Modal-image"})]}),r&&Object(O.jsx)(q,{}),c&&Object(O.jsxs)(K,{children:[Object(O.jsx)("h2",{children:"Oops! \ud83d\ude2b"}),Object(O.jsxs)("p",{children:["Sorry, something went wrong. Please try again, or"," ",Object(O.jsx)("a",{href:"/",children:"refresh the page"}),"."]})]})]})}}]),r}(a.Component);r(82),r(83);o.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(se,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.e191e316.chunk.js.map