{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Button/Button.module.scss","components/Modal/Modal.module.scss","components/Searchbar/Searchbar.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Loader/Loader.module.scss","components/Message/Message.module.scss","components/IconButton/IconButton.module.scss","components/SearchForm/SearchForm.module.scss","App.module.scss","components/SearchForm/SearchForm.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Message/Message.jsx","components/Modal/Modal.jsx","components/IconButton/IconButton.jsx","assets/images/icons/close.svg","api/api-services.js","App.jsx","index.js"],"names":["module","exports","SearchFrom","onSearch","useState","query","state","setState","resetForm","className","styles","SearchForm","onSubmit","e","preventDefault","type","name","value","onChange","currentTarget","autoComplete","autoFocus","placeholder","Searchbar","ImageGalleryItem","image","onImageClick","src","webformatURL","alt","tags","onClick","largeImageURL","defaultProps","ImageGallery","images","map","id","Button","Loader","color","height","width","Component","Message","children","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","event","code","createPortal","Overlay","target","IconButton","allyProps","_path","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgClose","_ref","svgRef","title","titleId","props","xmlns","viewBox","ref","d","ForwardRef","axios","defaults","baseURL","fetchImages","currentPage","a","get","data","App","searchQuery","isLoading","showModal","largeImage","error","onChangeQuery","getImages","hits","prevState","scrollOnLoadButton","console","log","handleGalleryItem","fullImageUrl","toggleModal","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","needToShowLoadMore","aria-label","fill","href","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e191e316.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2_F4I\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1Fupk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button-wrapper\":\"Button_Button-wrapper__331C2\",\"Button\":\"Button_Button__2KFf5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3u0XI\",\"Modal\":\"Modal_Modal__-PfKO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__x91N2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__126uJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__UlGzK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Message\":\"Message_Message__24nKT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"IconButton\":\"IconButton_IconButton__spHLI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__2NWiS\",\"SearchForm-button\":\"SearchForm_SearchForm-button__2DtK-\",\"SearchForm-button-label\":\"SearchForm_SearchForm-button-label__9x3vu\",\"SearchForm-input\":\"SearchForm_SearchForm-input__1GlMn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2vsp2\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.scss';\n\nconst SearchFrom = ({ onSearch }) => {\n  const [state, setState] = useState({\n    query: '',\n  });\n\n  const { query } = state;\n\n  // Наблюдает за инпутом и пишет значние в стейт\n  const handleSearchInput = e => {\n    const { name, value } = e.currentTarget;\n\n    setState({\n      [name]: value,\n    });\n  };\n\n  // Наблюдает за отправкой и отдает значение во внешний компонент\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    // Запрещает отправку пустого инпута\n    if (!query) return;\n\n    // Отдать данные внешнему компоненту\n    onSearch(query);\n\n    resetForm();\n  };\n\n  // Сбрасывает поле после отправки\n  const resetForm = () =>\n    setState({\n      query: '',\n    });\n\n  return (\n    <form className={styles.SearchForm} onSubmit={handleSubmit}>\n      <button type=\"submit\" className={styles['SearchForm-button']}>\n        <span className={styles['SearchForm-button-label']}>Search</span>\n      </button>\n\n      <input\n        className={styles['SearchForm-input']}\n        type=\"text\"\n        name=\"query\"\n        value={query}\n        onChange={handleSearchInput}\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search images and photos\"\n      />\n    </form>\n  );\n};\n\nSearchFrom.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n};\n\nexport default SearchFrom;\n\n// Вариант формы на классах\n\n// import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\n\n// import styles from './SearchForm.module.scss';\n\n// class SearchFrom extends Component {\n//   state = {\n//     query: '',\n//   };\n\n//   handleSearchInput = e => {\n//     const { name, value } = e.currentTarget;\n\n//     this.setState({\n//       [name]: value,\n//     });\n//   };\n\n//   handleSubmit = e => {\n//     e.preventDefault();\n\n//     // Запрещает отправку пустого инпута\n//     if (!this.state.query) return;\n\n//     // Отдать данные внешнему компоненту\n//     this.props.onSearch(this.state.query);\n\n//     this.resetForm();\n//   };\n\n//   resetForm = () =>\n//     this.setState({\n//       query: '',\n//     });\n\n//   render() {\n//     return (\n//       <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n//         <button type=\"submit\" className={styles['SearchForm-button']}>\n//           <span className={styles['SearchForm-button-label']}>Search</span>\n//         </button>\n\n//         <input\n//           className={styles['SearchForm-input']}\n//           type=\"text\"\n//           name=\"query\"\n//           value={this.state.query}\n//           onChange={this.handleSearchInput}\n//           autoComplete=\"off\"\n//           autoFocus\n//           placeholder=\"Search images and photos\"\n//         />\n//       </form>\n//     );\n//   }\n// }\n\n// SearchFrom.propTypes = {\n//   onSearch: PropTypes.func.isRequired,\n// };\n\n// export default SearchFrom;\n","import PropTypes from 'prop-types';\nimport SearchFrom from '../SearchForm';\n\nimport styles from './Searchbar.module.scss';\n\nconst Searchbar = ({ onSearch }) => {\n  return (\n    <header className={styles.Searchbar}>\n      <SearchFrom onSearch={onSearch} />\n    </header>\n  );\n};\n\nSearchbar.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.scss';\n\nconst ImageGalleryItem = ({ image, onImageClick }) => {\n  const fullImage = () => onImageClick(image.largeImageURL);\n\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        src={image.webformatURL}\n        alt={image.tags}\n        className={styles['ImageGalleryItem-image']}\n        onClick={fullImage}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.defaultProps = {\n  tags: '',\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    tags: PropTypes.string,\n  }),\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport styles from './ImageGallery.module.scss';\n\nconst ImageGallery = ({ images, onImageClick }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(image => {\n        return (\n          <ImageGalleryItem\n            key={image.id}\n            image={image}\n            onImageClick={onImageClick}\n          />\n        );\n      })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport styles from './Button.module.scss';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className={styles['Button-wrapper']}>\n      <button type=\"button\" className={styles.Button} onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport Template from 'react-loader-spinner';\n\nimport styles from './Loader.module.scss';\n\nclass Loader extends Component {\n  render() {\n    return (\n      <div className={styles.Loader}>\n        <Template type=\"TailSpin\" color=\"#02be6e\" height={100} width={100} />\n      </div>\n    );\n  }\n}\n\nexport default Loader;\n","import PropTypes from 'prop-types';\nimport styles from './Message.module.scss';\n\nconst Message = ({ children }) => {\n  return <div className={styles.Message}>{children}</div>;\n};\n\nMessage.defaultProps = {\n  children: [],\n};\n\nMessage.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Message;\n","import { createPortal } from 'react-dom';\nimport { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Modal.module.scss';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nconst Modal = ({ children, onClose }) => {\n  // Вешает и удаляет слушатели\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n\n    // returned function will be called on component unmount\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  // Наблюдает на Escape и закрывает модалку\n  const handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  // Наблюдает за бекдропом и закрывает модалку\n  const handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={handleBackdropClick}>\n      <div className={styles.Modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n};\n\nModal.defaultProps = {\n  children: null,\n};\n\nModal.propTypes = {\n  children: PropTypes.node,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n\n// import React, { Component } from 'react';\n// import { createPortal } from 'react-dom';\n// import PropTypes from 'prop-types';\n\n// import styles from './Modal.module.scss';\n\n// const modalRoot = document.querySelector('#modal-root');\n\n// class Modal extends Component {\n//   componentDidMount() {\n//     window.addEventListener('keydown', this.handleKeyDown);\n//   }\n\n//   componentWillUnmount() {\n//     window.removeEventListener('keydown', this.handleKeyDown);\n//   }\n\n//   handleKeyDown = event => {\n//     if (event.code === 'Escape') {\n//       this.props.onClose();\n//     }\n//   };\n\n//   handleBackdropClick = event => {\n//     if (event.currentTarget === event.target) {\n//       this.props.onClose();\n//     }\n//   };\n\n//   render() {\n//     return createPortal(\n//       <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n//         <div className={styles.Modal}>{this.props.children}</div>\n//       </div>,\n//       modalRoot,\n//     );\n//   }\n// }\n\n// Modal.defaultProps = {\n//   children: null,\n// };\n\n// Modal.propTypes = {\n//   children: PropTypes.node,\n//   onClose: PropTypes.func.isRequired,\n// };\n\n// export default Modal;\n","import PropTypes from 'prop-types';\n\nimport styles from './IconButton.module.scss';\n\nconst IconButton = ({ children, onClick, ...allyProps }) => (\n  <button\n    type=\"button\"\n    className={styles.IconButton}\n    onClick={onClick}\n    {...allyProps}\n  >\n    {children}\n  </button>\n);\n\nIconButton.defaultProps = {\n  onClick: () => null,\n  children: null,\n};\n\nIconButton.propTypes = {\n  onClick: PropTypes.func,\n  children: PropTypes.node,\n  'aria-label': PropTypes.string.isRequired,\n};\n\nexport default IconButton;\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 41.756 41.756\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M27.948 20.878L40.291 8.536a5 5 0 10-7.07-7.071L20.878 13.809 8.535 1.465a5 5 0 00-7.07 7.071l12.342 12.342L1.465 33.22a5 5 0 107.07 7.071l12.343-12.342 12.343 12.343c.976.977 2.256 1.464 3.535 1.464s2.56-.487 3.535-1.464a5 5 0 000-7.071L27.948 20.878z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.d02651e3.svg\";\nexport { ForwardRef as ReactComponent };","import axios from 'axios';\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst API_KEY = '20008538-9b5c20cc133cf43381bf6ef09';\n\nconst fetchImages = async (query, currentPage) => {\n  const { data } = await axios.get(\n    `/?q=${query}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n\n  return data;\n};\n\nexport default fetchImages;\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport Message from './components/Message';\nimport Modal from './components/Modal';\nimport IconButton from './components/IconButton';\nimport { ReactComponent as CloseIcon } from './assets/images/icons/close.svg';\n\nimport fetchImages from './api/api-services';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    showModal: false,\n    largeImage: '',\n    error: null,\n  };\n\n  // Если при обновлении запрос не равен между стейтами, тогда делаем фетч\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.getImages();\n    }\n  }\n\n  // Принимаем с формы запрос и пишем в стейт + сбрасываем после отправки ключи из стейта\n  onChangeQuery = query => {\n    this.setState({\n      images: [],\n      currentPage: 1,\n      searchQuery: query,\n      error: null,\n    });\n  };\n\n  // Получаем дату из фетча\n  getImages = async () => {\n    const { currentPage, searchQuery } = this.state;\n\n    this.setState({\n      isLoading: true,\n    });\n\n    try {\n      const { hits } = await fetchImages(searchQuery, currentPage);\n\n      this.setState(prevState => ({\n        images: [...prevState.images, ...hits],\n        currentPage: prevState.currentPage + 1,\n      }));\n\n      if (currentPage !== 1) {\n        this.scrollOnLoadButton();\n      }\n    } catch (error) {\n      console.log('Smth wrong with App fetch', error);\n      this.setState({ error });\n    } finally {\n      this.setState({\n        isLoading: false,\n      });\n    }\n  };\n\n  // Получает полное изображение, пишет его в стейт и открывает модалку\n  handleGalleryItem = fullImageUrl => {\n    this.setState({\n      largeImage: fullImageUrl,\n      showModal: true,\n    });\n  };\n\n  // Переключение модалки\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n      largeImage: '',\n    }));\n  };\n\n  // Скролл при клике на кнопку\n  scrollOnLoadButton = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { images, isLoading, showModal, largeImage, error } = this.state;\n    const needToShowLoadMore = images.length > 0 && images.length >= 12; // Нужны доп проверки;\n\n    return (\n      <>\n        <Searchbar onSearch={this.onChangeQuery} />\n\n        {images.length < 1 && (\n          <Message>\n            <h2>The gallery is empty 🙁</h2>\n            <p>Use search field!</p>\n          </Message>\n        )}\n\n        <ImageGallery images={images} onImageClick={this.handleGalleryItem} />\n\n        {needToShowLoadMore && <Button onClick={this.getImages} />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <div className=\"Close-box\">\n              <IconButton onClick={this.toggleModal} aria-label=\"Close modal\">\n                <CloseIcon width=\"20px\" height=\"20px\" fill=\"#7e7b7b\" />\n              </IconButton>\n            </div>\n\n            <img src={largeImage} alt=\"\" className=\"Modal-image\" />\n          </Modal>\n        )}\n\n        {isLoading && <Loader />}\n\n        {error && (\n          <Message>\n            <h2>Oops! 😫</h2>\n            <p>\n              Sorry, something went wrong. Please try again, or{' '}\n              <a href=\"/\">refresh the page</a>.\n            </p>\n          </Message>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n\n// Попытка переделать на хуки\n\n// import { useState, useEffect, useRef } from 'react';\n\n// import Searchbar from './components/Searchbar';\n// import ImageGallery from './components/ImageGallery';\n// import Button from './components/Button';\n// import Loader from './components/Loader';\n// import Message from './components/Message';\n// import Modal from './components/Modal';\n// import IconButton from './components/IconButton';\n// import { ReactComponent as CloseIcon } from './assets/images/icons/close.svg';\n\n// import fetchImages from './api/api-services';\n\n// const App = () => {\n//   const [state, setState] = useState({\n//     images: [],\n//     currentPage: 1,\n//     searchQuery: '',\n//     isLoading: false,\n//     showModal: false,\n//     largeImage: '',\n//     error: null,\n//   });\n\n//   const mounted = useRef();\n//   useEffect(() => {\n//     if (!mounted.current) {\n//       // Делать что-то при монтировании\n//       mounted.current = true;\n//     } else {\n//       getImages();\n//     }\n//   }, [state.searchQuery]);\n\n//   // Принимаем с формы запрос и пишем в стейт + сбрасываем после отправки стейт\n//   const onChangeQuery = query => {\n//     setState({\n//       images: [],\n//       currentPage: 1,\n//       searchQuery: query,\n//       isLoading: false,\n//       showModal: false,\n//       largeImage: '',\n//       error: null,\n//     });\n//   };\n\n//   // Получаем дату из фетча\n//   const getImages = async () => {\n//     const { currentPage, searchQuery } = state;\n\n//     setState({\n//       isLoading: true,\n//     });\n\n//     try {\n//       const { hits } = await fetchImages(searchQuery, currentPage);\n\n//       setState(prevState => ({\n//         images: [...prevState.images, ...hits],\n//         currentPage: prevState.currentPage + 1,\n//       }));\n\n//       if (currentPage !== 1) {\n//         scrollOnLoadButton();\n//       }\n//     } catch (error) {\n//       console.log('Smth wrong with App fetch', error);\n//       setState({ error });\n//     } finally {\n//       setState({\n//         isLoading: false,\n//       });\n//     }\n//   };\n\n//   // Получает полное изображение, пишет его в стейт и открывает модалку\n//   const handleGalleryItem = fullImageUrl => {\n//     setState({\n//       largeImage: fullImageUrl,\n//       showModal: true,\n//     });\n//   };\n\n//   // Переключение модалки\n//   const toggleModal = () => {\n//     setState(prevState => ({\n//       showModal: !prevState.showModal,\n//     }));\n//   };\n\n//   // Скролл при клике на кнопку\n//   const scrollOnLoadButton = () => {\n//     window.scrollTo({\n//       top: document.documentElement.scrollHeight,\n//       behavior: 'smooth',\n//     });\n//   };\n\n//   const { images, isLoading, showModal, largeImage, error } = state;\n//   const needToShowLoadMore = images.length > 0 && images.length >= 12; // Нужны доп проверки;\n\n//   return (\n//     <>\n//       <Searchbar onSearch={onChangeQuery} />\n\n//       {images.length < 1 && (\n//         <Message>\n//           <h2>The gallery is empty 🙁</h2>\n//           <p>Use search field!</p>\n//         </Message>\n//       )}\n\n//       <ImageGallery images={images} onImageClick={handleGalleryItem} />\n\n//       {needToShowLoadMore && <Button onClick={getImages} />}\n\n//       {showModal && (\n//         <Modal onClose={toggleModal}>\n//           <div className=\"Close-box\">\n//             <IconButton onClick={toggleModal} aria-label=\"Close modal\">\n//               <CloseIcon width=\"20px\" height=\"20px\" fill=\"#7e7b7b\" />\n//             </IconButton>\n//           </div>\n\n//           <img src={largeImage} alt=\"\" className=\"Modal-image\" />\n//         </Modal>\n//       )}\n\n//       {isLoading && <Loader />}\n\n//       {error && (\n//         <Message>\n//           <h2>Oops! 😫</h2>\n//           <p>\n//             Sorry, something went wrong. Please try again, or{' '}\n//             <a href=\"/\">refresh the page</a>.\n//           </p>\n//         </Message>\n//       )}\n//     </>\n//   );\n// };\n\n// export default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.jsx';\n\nimport 'modern-normalize/modern-normalize.css';\nimport './App.module.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}